{
  "id": "mpi-mediator",
  "name": "OpenHIM-MPI Mediator",
  "description": "This package creates a mediator service that is used in facilitating patient creation, updating and reading from the MPI and Hapi-Fhir, from FHIR bundles using Kafka",
  "type": "infrastructure",
  "version": "0.0.1",
  "dependencies": ["fhir-datastore-hapi-fhir", "client-registry-jempi"],
  "environmentVariables": {
    "MPI_MEDIATOR_CONFIG_IMPORTER_IMAGE": "node:erbium-alpine",
    "MPI_MEDIATOR_CONFIG_IMPORTER_REPLICAS": 1,
    "MPI_MEDIATOR_IMAGE": "jembi/mpi-mediator:v2.3.1",
    "MPI_MEDIATOR_MAX_REPLICAS_PER_NODE": 1,
    "MPI_MEDIATOR_INSTANCES": 1,
    "OPENHIM_MEDIATOR_URL": "https://openhim-core:8080",
    "TRUST_SELF_SIGNED": "true",
    "OPENHIM_USERNAME": "root@openhim.org",
    "OPENHIM_PASSWORD": "instant101",
    "REGISTER_MEDIATOR": "true",
    "MPI_CLIENT_ID": "fiddler",
    "MPI_CLIENT_SECRET": "fiddler",
    "MPI_PROTOCOL": "http",
    "MPI_HOST": "openhim-mapping-mediator",
    "MPI_PORT": 3003,
    "MPI_AUTH_ENABLED": "false",
    "MPI_PROXY_URL": "http://localhost:5001",
    "KAFKA_HOSTS": "kafka-01:9092",
    "KAFKA_BUNDLE_TOPIC": "2xx",
    "KAFKA_ASYNC_BUNDLE_TOPIC": "2xx-async",
    "KAFKA_ERROR_TOPIC": "errors",
    "FHIR_DATASTORE_PROTOCOL": "http",
    "FHIR_DATASTORE_HOST": "hapi-fhir",
    "FHIR_DATASTORE_PORT": 8080,
    "DISABLE_VALIDATION": "true",
    "ENABLE_JEMPI_GOLDEN_ID_UPDATE": "true",
    "CLICKHOUSE_HOST": "analytics-datastore-clickhouse",
    "CLICKHOUSE_PORT": "8123",
    "PATIENT_PROFILE_FOR_STUB_PATIENT": "",
    "KAFKA_JEMPI_AUDIT_TOPIC": "JeMPI-audit-trail"
  }
}
