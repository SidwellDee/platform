{
  "auxInteractionFields": [
    {
      "fieldName": "aux_date_created",
      "fieldType": "DateTime"
    },
    {
      "fieldName": "aux_id",
      "fieldType": "String",
      "source": {
        "csvCol": 0
      }
    }
  ],
  "auxGoldenRecordFields": [
    {
      "fieldName": "aux_date_created",
      "fieldType": "DateTime"
    },
    {
      "fieldName": "aux_auto_update_enabled",
      "fieldType": "Bool",
      "default": "true"
    },
    {
      "fieldName": "aux_id",
      "fieldType": "String",
      "source": {
        "interactionField": "aux_id"
      }
    }
  ],
  "additionalNodes": [
    {
      "nodeName": "SourceId",
      "fields": [
        {
          "fieldName": "facility",
          "fieldType": "String",
          "source": {
            "csvCol": 9
          }
        },
        {
          "fieldName": "patient",
          "fieldType": "String",
          "source": {
            "csvCol": 10
          }
        }
      ]
    }
  ],
  "demographicFields": [
    {
      "fieldName": "pin",
      "fieldType": "String",
      "source": {
        "csvCol": 1
      },
      "indexGoldenRecord": "@index(exact,trigram)",
      "indexInteraction": "@index(exact,trigram)"
    },
    {
      "fieldName": "first_name",
      "fieldType": "String",
      "source": {
        "csvCol": 2
      },
      "indexGoldenRecord": "@index(exact,trigram)",
      "indexInteraction": "@index(exact,trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.90479755,"u":9.953487E-4
      }
    },
    {
      "fieldName": "middle_name",
      "fieldType": "String",
      "source": {
        "csvCol": 3
      },
      "indexGoldenRecord": "@index(exact,trigram)",
      "indexInteraction": "@index(exact,trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.83999395,"u":8.9317246E-4
      }
    },
    {
      "fieldName": "surname",
      "fieldType": "String",
      "source": {
        "csvCol": 4
      },
      "indexGoldenRecord": "@index(exact,trigram)",
      "indexInteraction": "@index(exact,trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.89095175,"u":0.029154558
      }
    },
    {
      "fieldName": "sex",
      "fieldType": "String",
      "source": {
        "csvCol": 5
      },
      "indexGoldenRecord": "@index(exact,trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.9246436,"u":0.46087846
      }
    },
    {
      "fieldName": "dob",
      "fieldType": "String",
      "source": {
        "csvCol": 6
      },
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.83510715,"u":5.832308E-5
      }
    },  
    {
      "fieldName": "birth_time",
      "fieldType": "String",
      "source": {
        "csvCol": 7
      }
    },
    {
      "fieldName": "cell_phone",
      "fieldType": "String",
      "source": {
        "csvCol": 8
      },
      "indexGoldenRecord": "@index(exact,trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.8781437,"u":5.532981E-7
      }
    },
    {
      "fieldName": "inkhundla",
      "fieldType": "String",
      "source": {
        "csvCol": 9
      },
      "indexGoldenRecord": "@index(trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.99999905,"u":0.006147231
      }
    },
    {
      "fieldName": "chiefdom",
      "fieldType": "String",
      "source": {
        "csvCol": 10
      },
      "indexGoldenRecord": "@index(trigram)",
      "linkMetaData": {
        "comparison": "JARO_WINKLER_SIMILARITY",
        "comparisonLevels": [
          0.92
        ],
        "m":0.99999905,"u":0.006147231
      }
    },
    {
      "fieldName": "nationality",
      "fieldType": "String",
      "source": {
        "csvCol": 11
      }
    },
    {
      "fieldName": "city",
      "fieldType": "String",
      "source": {
        "csvCol": 12
      }
    }
  ],
  "rules": {
    "link": {
      "deterministic": [
        {
          "vars": [
            "pin"
          ],
          "text": "neq(pin,9999999999999) and neq(pin,1111111111111) and eq(pin)"
        }
      ],
      "probabilistic": [
        {
          "vars": [
            "first_name",
            "middle_name",
            "surname"
          ],
          "text": "match(first_name,3) and match(middle_name,3) or match(first_name,3) and match(surname,3) or match(middle_name,3) and match(surname,3)"
        },
        {
          "vars": [
            "dob",
            "cell_phone",
            "pin"
          ],
          "text": "match(dob,2) or match(cell_phone,2) or match(pin,3)"
        },
        {
          "vars": [
            "chiefdom",
            "cell_phone"
          ],
          "text": "match(chiefdom,1) and match(cell_phone,2)"
        }
      ]
    }
  }
}
